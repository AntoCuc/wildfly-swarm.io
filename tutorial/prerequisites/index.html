<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="WildFly Swarm Official Website"><link rel="icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" title="RSS Feed for wildfly-swarm.io" href="/rss.xml"><title>WildFly Swarm</title><link rel="stylesheet" media="screen" href="/lib/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" media="screen" href="/css/site.css"><link rel="stylesheet" media="screen" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,800"><link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" media="screen" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css"></head><body><nav class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" class="navbar-toggle collapsed"><span class="sr-only"></span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand"><img src="/images/swarm_icon_32x32.png" class="icon"><span>WildFly Swarm</span></a></div><div id="navbar" class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="/generator" class="hidden-xs hidden-sm hidden-md">Generator<span class="badge">new!</span></a></li><li><a href="/archive">Blog</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/community">Community</a></li><li><a href="/resources">Resources</a></li><li><a href="https://github.com/wildfly-swarm" class="hidden-xs hidden-sm hidden-md">GitHub</a></li></ul></div></div></nav><section class="section"><div class="container"><div class="row"><div class="col-sm-8"><h1 id="_prerequisites" class="sect0">Prerequisites</h1>
<div class="sect1">
<h2 id="_minimum_system_requirements">Minimum System Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These are expected on every developer laptop:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JDK 8</p>
</li>
<li>
<p>Maven 3.3.x</p>
</li>
<li>
<p>IDE (Intellij/Eclipse)</p>
</li>
<li>
<p>Git</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_software">Additional Software</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The tutorial uses the WildFly application server for running the monolith
and the Consul for service registration and discovery. WildFly can be run as simple java process, just download, unzip and run it (standalone.sh/standalone.bat).</p>
</div>
<div class="paragraph">
<p>Consul is written in Go and you would need to install the native binary for running the registry.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.consul.io/downloads.html">Consul Service Registry</a></p>
</li>
<li>
<p><a href="http://wildfly.org/downloads/">WildFly Application Server 10</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_consul_service_registry">Consul Service Registry</h3>
<div class="paragraph">
<p>Download Consul for your OS, including the web UI, which is a separate artifact:</p>
</div>
<div class="paragraph">
<p><a href="https://www.consul.io/downloads.html" class="bare">https://www.consul.io/downloads.html</a></p>
</div>
<div class="paragraph">
<p>You can start it like this (i.e. with CONSUL_IP=127.0.0.1):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>./consul agent --ui-dir=&lt;UI_DIR&gt; --data-dir=/tmp/consul -bind &lt;CONSUL_IP&gt; -server -bootstrap</code></pre>
</div>
</div>
<div class="paragraph">
<p>To verify that it&#8217;s successfully started you can visit the consul web interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>http://&lt;CONSUL_IP&gt;:8500/ui/</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Make note of the registry address <code><a href="http://&lt;CONSUL_IP&gt;:8500" class="bare">http://&lt;CONSUL_IP&gt;:8500</a></code>. It’s the address that the services need to advertise their presence.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_wildfly_application_server">WildFly Application Server</h3>
<div class="paragraph">
<p>WildFly will be used to host the monolith and remaining parts of it
when we extract each service one after the other. Towards the end of the tutorial, WildFly becomes obsolete and all services will be replaced by WildFly Swarm.</p>
</div>
<div class="sect3">
<h4 id="_download_and_install_wildfly">Download and install WildFly</h4>
<div class="paragraph">
<p>WildFly can be downloaded from the <a href="http://wildfly.org/downloads/">WildFly Homepage</a>.
Simply follow the instructions in the <a href="https://docs.jboss.org/author/display/WFLY10/Getting+Started+Guide">Getting Started Guide</a>, on how to install, configure and start the application server.</p>
</div>
<div class="paragraph">
<p>Make note of the <code>&lt;WILDFLY_IP&gt;</code>, which by default&#8217;s <code>localhost</code>. Without further configuration the HTTP server listens on port 8080. We do however need to bind WildFly to a public address (i.e. that of your network card), otherwise the services will advertise “localhost” as their address, which makes them inaccessible in some cases (docker, remote host, etc)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When you start WildFly make sure to provide the <code>consul.host</code> system property. This tells any service deployed to WildFly, where to find consul: <code><code>./bin/standalone.sh -Dconsul.host=&lt;CONSUL_IP&gt;</code></code>. Take a look at the <code>services</code> module to see how it&#8217;s implemented.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_before_you_get_started">Before you get started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Make sure you have written down the main network addresses
that we will use throughout the activities:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Network Addresses In Use</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Referred to as</th>
<th class="tableblock halign-left valign-top">Address</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consul</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;CONSUL_IP&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WildFly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;WILDFLY_IP&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;PUBLIC_IP&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For the activities you need the software listed in section “Additional Software”.
Both WildFly and Consul must be running.</p>
</div>
<div class="paragraph">
<p>
<div class="row">
  <div class="col-md-6">
  <p><a href="/tutorial/example-app" class="btn btn-primary"><i class="fa fa-chevron-left" aria-hidden="true"></i> Example Application</a></p>
  </div>
  <div class="col-md-6">
  <p><a href="/tutorial/step-0" class="btn btn-primary">Step 0: Creating a manageable codebase <i class="fa fa-chevron-right" aria-hidden="true"></i></a></p>
  </div>
</div>
</p>
</div>
</div>
</div></div><div class="col-sm-3 col-sm-offset-1"><div class="sidebar panel panel-default"><ul><li><a href="/tutorial">Introduction</a></li><li><a href="/tutorial/sources">Source Code</a></li><li><a href="/tutorial/example-app">Example Application</a></li><li><a href="/tutorial/prerequisites">Prerequisites</a></li><li><a href="/tutorial/step-0">Step 0: A manageable codebase</a></li><li><a href="/tutorial/step-1">Step 1: Services the old way</a></li><li><a href="/tutorial/step-2">Step 2: Right-size your runtime</a></li><li><a href="/tutorial/step-3">Step 3: Container API, Fractions and Deployments</a></li><li><a href="/tutorial/step-4">Step 4: Environment specific configuration</a></li><li><a href="/tutorial/step-5">Step 5: Fault tolerance and resilience</a></li><li><a href="/tutorial/step-6">Step 6: Load balancing and failover</a></li><li><a href="/tutorial/toxy">Appendix A: Fault-injection proxy</a></li><li><a href="/tutorial/hystrix">Appendix B: Hystrix Dashboard</a></li><li class="last"><a href="/tutorial/reading">Reading on Microservices </a></li></ul></div></div></div><div class="row"><div class="col-sm-8"><div id="disqus_thread"><script> var disqus_config = function () { this.page.url = PAGE_URL; this.page.identifier = PAGE_IDENTIFIER;}; (function() { var d = document, s = d.createElement('script'); s.src = '//wildflyswarm.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); 
</script></div></div></div></div></section><footer id="footer"><p class="text-center">&copy; Copyright 2016 <a href="http://redhat.com">Red Hat, Inc.</a> | WildFly Swarm is Open Source Software</p></footer><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="/lib/bootstrap/js/bootstrap.min.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-6435340-8', 'auto');
ga('send', 'pageview');

</script><script src="//www.redhat.com/j/s_code.js"></script><script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script><script>(function() {

  // Load the path name, without it's inital /
  var arr = location.pathname.substr(1, location.pathname.length)
      .toLowerCase().split('/');

  // If the path ends in index.html or whitespace, trim the array
  if (arr[arr.length - 1] == "index.html" || arr[arr.length - 1] == "" ) {
     arr.pop();
  }

  /*
  * Assign values to Adobe Analytics properties
  */
  s.channel = "wildflyswarm| {{Channel}}" // The channel is our top level classification
  s.server = "wildflyswarm" // The server is ???
  s.pageName = "wildflyswarm| {{Channel}} | " + (arr[arr.length -1] || "homepage"); // pageName is wildflyswarm | <Channel> | {page_name}. {page_name} has index.html removed
  s.prop2 = s.eVar22 = "en"; // prop2/eVar22 is the ISO 639-1 language code
  s.prop4 = s.eVar23 = encodeURI(location.search); //prop4/eVar23 is the query string of the page

  // Pad the array as needed, so we can shift away later
  for (var i = arr.length; i < 3; i++) {
      arr[i] = "";
  }

  s.prop14 = s.eVar27 = arr.shift(); // prop14/eVar27 is the first minor section (normally /{minor_section_1})
  s.prop15 = s.eVar28 = arr.shift(); // prop15/eVar28 is the second minor section (normally /a/{minor_section_2})
  s.prop16 = s.eVar29 = arr.shift(); // prop16/eVar29 is the third minor section (normally /a/b/{minor_section_3})
  s.prop21 = s.eVar18 = encodeURI(location.hostname+location.pathname).toLowerCase(); // prop21/eVar18 is the URL, less any query strings or fragments

  })();
</script><script src="//www.redhat.com/assets/js/tracking/rh_omni_footer.js"></script><script>(function() {
  hljs.initHighlightingOnLoad();
})();  
</script></body></html>